{"ast":null,"code":"import _slicedToArray from\"/home/user/app/e11/Chat-App/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from\"react\";import{Col,Container,Button,Form,Row,Spinner}from\"react-bootstrap\";import\"./Login.css\";import{useLoginUserMutation}from\"../services/appApi\";import{Link,useNavigate}from\"react-router-dom\";import{AppContext}from\"../context/appContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var navigate=useNavigate();var _useContext=useContext(AppContext),socket=_useContext.socket;var _useLoginUserMutation=useLoginUserMutation(),_useLoginUserMutation2=_slicedToArray(_useLoginUserMutation,2),loginUser=_useLoginUserMutation2[0],_useLoginUserMutation3=_useLoginUserMutation2[1],isLoading=_useLoginUserMutation3.isLoading,error=_useLoginUserMutation3.error;function handleLogin(e){e.preventDefault();// login logic\nloginUser({email:email,password:password}).then(function(_ref){var data=_ref.data;if(data){// socket work\nsocket.emit(\"new-user\");// navigate to the chat\nnavigate(\"/chat\");}});}return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:5,className:\"login__bg\"}),/*#__PURE__*/_jsx(Col,{md:7,className:\"d-flex align-items-center justify-content-center flex-direction-column\",children:/*#__PURE__*/_jsxs(Form,{style:{width:\"80%\",maxWidth:500},onSubmit:handleLogin,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:[error&&/*#__PURE__*/_jsx(\"p\",{className:\"alert alert-danger\",children:error.data}),/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter email\",onChange:function onChange(e){return setEmail(e.target.value);},value:email,required:true}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",onChange:function onChange(e){return setPassword(e.target.value);},value:password,required:true})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:isLoading?/*#__PURE__*/_jsx(Spinner,{animation:\"grow\"}):\"Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"py-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-center\",children:[\"Don't have an account ? \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Signup\"})]})})]})})]})});}export default Login;","map":{"version":3,"names":["React","useContext","useState","Col","Container","Button","Form","Row","Spinner","useLoginUserMutation","Link","useNavigate","AppContext","Login","email","setEmail","password","setPassword","navigate","socket","loginUser","isLoading","error","handleLogin","e","preventDefault","then","data","emit","width","maxWidth","target","value"],"sources":["/home/user/app/e11/Chat-App/frontend/src/pages/Login.js"],"sourcesContent":["import React, {useContext,  useState } from \"react\";\nimport { Col, Container, Button, Form, Row, Spinner } from \"react-bootstrap\";\nimport \"./Login.css\";\nimport { useLoginUserMutation } from \"../services/appApi\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport{ AppContext } from \"../context/appContext\";\n\n\nfunction Login() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const navigate = useNavigate();\n  const { socket } = useContext(AppContext);\n  const [loginUser, { isLoading, error }] = useLoginUserMutation();\n  \n  function handleLogin(e) {\n    e.preventDefault();\n    // login logic\n    loginUser({ email, password }).then(({ data }) => {\n      if (data) {\n        // socket work\n        socket.emit(\"new-user\");\n        // navigate to the chat\n        navigate(\"/chat\");\n      }\n    });\n  }\n\n  return (\n    <Container>\n    <Row>\n        <Col md={5} className=\"login__bg\"></Col>\n        <Col md={7} className=\"d-flex align-items-center justify-content-center flex-direction-column\">\n            <Form style={{ width: \"80%\", maxWidth: 500 }} onSubmit={handleLogin}>\n                <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n                    {error && <p className=\"alert alert-danger\">{error.data}</p>}\n                    <Form.Label>Email address</Form.Label>\n                    <Form.Control type=\"email\" placeholder=\"Enter email\" onChange={(e) => setEmail(e.target.value)} value={email} required />\n                    <Form.Text className=\"text-muted\">We'll never share your email with anyone else.</Form.Text>\n                </Form.Group>\n\n                <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n                    <Form.Label>Password</Form.Label>\n                    <Form.Control type=\"password\" placeholder=\"Password\" onChange={(e) => setPassword(e.target.value)} value={password} required />\n                </Form.Group>\n                <Button variant=\"primary\" type=\"submit\">\n                    {isLoading ? <Spinner animation=\"grow\" /> : \"Login\"}\n                </Button>\n                <div className=\"py-4\">\n                    <p className=\"text-center\">\n                        Don't have an account ? <Link to=\"/signup\">Signup</Link>\n                    </p>\n                </div>\n            </Form>\n        </Col>\n    </Row>\n</Container>\n  );\n}\n\nexport default Login;\n"],"mappings":"0HAAA,MAAOA,MAAK,EAAGC,UAAU,CAAGC,QAAQ,KAAQ,OAAO,CACnD,OAASC,GAAG,CAAEC,SAAS,CAAEC,MAAM,CAAEC,IAAI,CAAEC,GAAG,CAAEC,OAAO,KAAQ,iBAAiB,CAC5E,MAAO,aAAa,CACpB,OAASC,oBAAoB,KAAQ,oBAAoB,CACzD,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,OAAQC,UAAU,KAAQ,uBAAuB,CAAC,wFAGlD,QAASC,MAAK,EAAG,CACf,cAA0BX,QAAQ,CAAC,EAAE,CAAC,wCAA/BY,KAAK,eAAEC,QAAQ,eACtB,eAAgCb,QAAQ,CAAC,EAAE,CAAC,yCAArCc,QAAQ,eAAEC,WAAW,eAC5B,GAAMC,SAAQ,CAAGP,WAAW,EAAE,CAC9B,gBAAmBV,UAAU,CAACW,UAAU,CAAC,CAAjCO,MAAM,aAANA,MAAM,CACd,0BAA0CV,oBAAoB,EAAE,gEAAzDW,SAAS,4EAAIC,SAAS,wBAATA,SAAS,CAAEC,KAAK,wBAALA,KAAK,CAEpC,QAASC,YAAW,CAACC,CAAC,CAAE,CACtBA,CAAC,CAACC,cAAc,EAAE,CAClB;AACAL,SAAS,CAAC,CAAEN,KAAK,CAALA,KAAK,CAAEE,QAAQ,CAARA,QAAS,CAAC,CAAC,CAACU,IAAI,CAAC,cAAc,IAAXC,KAAI,MAAJA,IAAI,CACzC,GAAIA,IAAI,CAAE,CACR;AACAR,MAAM,CAACS,IAAI,CAAC,UAAU,CAAC,CACvB;AACAV,QAAQ,CAAC,OAAO,CAAC,CACnB,CACF,CAAC,CAAC,CACJ,CAEA,mBACE,KAAC,SAAS,wBACV,MAAC,GAAG,yBACA,KAAC,GAAG,EAAC,EAAE,CAAE,CAAE,CAAC,SAAS,CAAC,WAAW,EAAO,cACxC,KAAC,GAAG,EAAC,EAAE,CAAE,CAAE,CAAC,SAAS,CAAC,wEAAwE,uBAC1F,MAAC,IAAI,EAAC,KAAK,CAAE,CAAEW,KAAK,CAAE,KAAK,CAAEC,QAAQ,CAAE,GAAI,CAAE,CAAC,QAAQ,CAAEP,WAAY,wBAChE,MAAC,IAAI,CAAC,KAAK,EAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,gBAAgB,WAClDD,KAAK,eAAI,UAAG,SAAS,CAAC,oBAAoB,UAAEA,KAAK,CAACK,IAAI,EAAK,cAC5D,KAAC,IAAI,CAAC,KAAK,4BAA2B,cACtC,KAAC,IAAI,CAAC,OAAO,EAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,aAAa,CAAC,QAAQ,CAAE,kBAACH,CAAC,QAAKT,SAAQ,CAACS,CAAC,CAACO,MAAM,CAACC,KAAK,CAAC,EAAC,CAAC,KAAK,CAAElB,KAAM,CAAC,QAAQ,OAAG,cACzH,KAAC,IAAI,CAAC,IAAI,EAAC,SAAS,CAAC,YAAY,4DAA2D,GACnF,cAEb,MAAC,IAAI,CAAC,KAAK,EAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,mBAAmB,wBACtD,KAAC,IAAI,CAAC,KAAK,uBAAsB,cACjC,KAAC,IAAI,CAAC,OAAO,EAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,UAAU,CAAC,QAAQ,CAAE,kBAACU,CAAC,QAAKP,YAAW,CAACO,CAAC,CAACO,MAAM,CAACC,KAAK,CAAC,EAAC,CAAC,KAAK,CAAEhB,QAAS,CAAC,QAAQ,OAAG,GACtH,cACb,KAAC,MAAM,EAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,UAClCK,SAAS,cAAG,KAAC,OAAO,EAAC,SAAS,CAAC,MAAM,EAAG,CAAG,OAAO,EAC9C,cACT,YAAK,SAAS,CAAC,MAAM,uBACjB,WAAG,SAAS,CAAC,aAAa,mDACE,KAAC,IAAI,EAAC,EAAE,CAAC,SAAS,oBAAc,GACxD,EACF,GACH,EACL,GACJ,EACE,CAEZ,CAEA,cAAeR,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}